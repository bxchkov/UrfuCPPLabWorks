/*
Лабораторная работа 3
Задание 5
Программа сортировки чисел по возрастанию в заданном интервале индексов
*/

#include <iostream>
#include <windows.h>
#include <vector>

using namespace std;

int main() {
    SetConsoleOutputCP(CP_UTF8); // Для нормального отображения русского языка в консоли
    
    int arr[] = {-2, 5, -8, 1, -10, 2, 11, 0, 4, -9};
    int arrLength = sizeof(arr) / sizeof(arr[0]);

    cout << "Исходный массив: ";
    for (int i = 0; i < arrLength; i++) {
        cout << arr[i] << ' ';
    }
    cout << endl;

    int N1 = 2; // начальный индекс (включительно)
    int N2 = 6; // конечный индекс (включительно)
    // Элементы в диапазоне [2, 6]: -8, 1, -10, 2, 11

    cout << "Сортировка в диапазоне индексов от " << N1 << " до " << N2 << endl;

    // Проверка границ диапазона
    if (N1 < 0 || N2 >= arrLength || N1 > N2) {
        cout << "Некорректный диапазон индексов!" << endl;
        return 1;
    }

    int iMin;
    // Сортировка выбором (Selection Sort) внутри диапазона [N1, N2]
    // Внешний цикл идет от начала диапазона до предпоследнего элемента диапазона
    for (int i = N1; i < N2; i++) {
        iMin = i;
        // Внутренний цикл ищет минимум в оставшейся части диапазона
        for (int j = i + 1; j <= N2; j++) {
            if (arr[j] < arr[iMin]) {
                iMin = j;
            }
        }
        // Обмен элементов внутри исходного массива arr
        // В оригинальном коде была ошибка: arrResultASC заполнялся, но обмен в arr был некорректным (терялось значение arr[i]),
        // и логика была смешана. Здесь мы сортируем сам массив arr in-place.
        if (iMin != i) {
            int t = arr[i];
            arr[i] = arr[iMin];
            arr[iMin] = t;
        }
    }

    cout << "Массив после частичной сортировки: ";
    for (int i = 0; i < arrLength; i++) { // вывод на экран всего массива
        // Выделим отсортированную часть скобками для наглядности
        if (i == N1) cout << "[ ";
        cout << arr[i] << ' ';
        if (i == N2) cout << "] ";
    }
    cout << endl;

    return 0;
}
